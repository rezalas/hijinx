# Hijinx Module Configuration File
# This file contains recommended configuration for the hijinx module

config . <<EOF
# Add to the main nginx.conf file

# If using dynamic module, add this at the top level:
# load_module modules/ngx_http_hijinx_module.so;

http {
    # Enable hijinx protection globally
    hijinx on;
    
    # Path to the blacklist file
    # Make sure this file exists and is writable by nginx user
    hijinx_blacklist /etc/nginx/hijinx/blacklist.txt;
    
    # Directory for hijinx logs
    # Make sure this directory exists and is writable by nginx user  
    hijinx_log_dir /var/log/nginx/hijinx;
    
    # Path to patterns file
    # Contains suspicious URI patterns to monitor (see PATTERNS.md)
    hijinx_patterns /etc/nginx/hijinx/patterns.txt;
    
    # Serve random misleading content instead of real responses
    # When enabled, suspicious requests get fake HTML (admin panels, login forms, etc.)
    # This makes it harder for attackers to profile your site
    hijinx_serve_random_content off;  # Set to 'on' to enable
    
    # Directory containing HTML files for random content serving
    # Only used when hijinx_serve_random_content is enabled
    hijinx_html_dir /etc/nginx/hijinx/html;
    
    # Number of suspicious requests before IP is blacklisted
    # Lower = more aggressive, Higher = more lenient
    hijinx_threshold 5;
    
    server {
        listen 80;
        server_name _;
        
        # Hijinx is active for all locations by default
        # You can disable it for specific locations if needed:
        # location /trusted-path {
        #     hijinx off;
        # }
        
        location / {
            root /var/www/html;
            index index.html;
        }
    }
}
EOF
